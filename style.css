/* style.css â€” full UI + CRT + panel styles */

:root { --crt-opacity: 0.45; }

/* Base */
html,body { height:100%; margin:0; padding:0; font-family:system-ui, sans-serif; background:#0b0c10; color:#fff; }
body[data-theme="light"] { background:#f8fafc; color:#111827; }

/* Map fills viewport */
#map { position:fixed; inset:0; z-index:1; }

/* CRT overlays (scanlines + flicker + color separation) */
.crt-scanlines::before {
  content:""; position:fixed; inset:0; pointer-events:none; z-index:9998;
  background:
    linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.25) 50%),
    linear-gradient(90deg, rgba(255,0,0,0.06), rgba(0,255,0,0.02), rgba(0,0,255,0.06));
  background-size:100% 2px, 3px 100%;
  opacity: var(--crt-opacity);
}
.crt-flicker::after {
  content:""; position:fixed; inset:0; pointer-events:none; z-index:9999; animation:flicker 0.15s infinite;
  background: rgba(18,16,16,0.06);
}
@keyframes flicker { 0% {opacity: .28;} 50% {opacity:.7;} 100% {opacity:.24;} }
.crt-colorsep { animation:textShadow 1.6s infinite; }
@keyframes textShadow { 0% {text-shadow: .4px 0 1px rgba(0,30,255,.5), -.4px 0 1px rgba(255,0,80,.3);} 50% {text-shadow:3px 0 1px rgba(0,30,255,.5), -3px 0 1px rgba(255,0,80,.3);} 100% {text-shadow:.4px 0 1px rgba(0,30,255,.5), -.4px 0 1px rgba(255,0,80,.3);} }

/* Control panel */
#gm-control-panel { position:fixed; right:18px; bottom:18px; z-index:100000; pointer-events:auto; }
#gm-panel-toggle { background:#1f2937; color:#fff; border:1px solid #374151; padding:6px 10px; border-radius:8px; cursor:pointer; font-weight:700; }
body[data-theme="light"] #gm-panel-toggle { background:#fff; color:#111; border:1px solid #e6e6e6; }
#gm-panel { margin-top:8px; width:260px; background:#111827; color:#fff; padding:12px; border-radius:10px; box-shadow:0 6px 20px rgba(0,0,0,.45); border:1px solid rgba(255,255,255,0.03); }
body[data-theme="light"] #gm-panel { background:#fff; color:#111; border:1px solid #e6e6e6; box-shadow:0 6px 20px rgba(0,0,0,0.06); }
.gm-hidden { display:none !important; }
#gm-panel h4 { margin:0 0 8px 0; font-size:15px; }
#gm-panel label { font-weight:600; font-size:13px; display:block; margin-top:8px; }
#gm-theme-selector, #crt-intensity { width:100%; margin-top:6px; border-radius:6px; padding:6px; border:1px solid #374151; background:transparent; color:inherit; }
body[data-theme="light"] #gm-theme-selector { border-color:#e6e6e6; background:#fff; }

/* Leaflet popup theming */
.leaflet-popup-content-wrapper { background:rgba(12,14,18,0.95); color:#fff; border-radius:8px; border:1px solid rgba(255,255,255,0.04); }
body[data-theme="light"] .leaflet-popup-content-wrapper { background:#fff; color:#111; border:1px solid #e6e6e6; }
.leaflet-container a.leaflet-popup-close-button { color:inherit; }

/* small responsive */
@media (max-width:480px) {
  #gm-panel { width:200px; font-size:14px; }
  #gm-panel-toggle { padding:5px 8px; }
}
